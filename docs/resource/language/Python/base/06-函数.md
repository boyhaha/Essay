---
sidebar: auto
---
# 基础 06-函数

**函数**就是对模块功能代码的封装

1. 位置参数和关键字调用
    * 位置参数调用：   保证实参要和形参一一对应
    * 关键字参数调用：需要保证的是形参名书写正确
            

2. 特例：参数列表第一个为*，表明这个函数只能通过关键字参数调用

```
                    def func(*,name,age)
                        pass
            
                    func(name = 'tom', age = 12)
```

            

3. global
   1. 函数外部用于定义全局变量，
   2. 函数内部用于声明全局变量

4. 函数内部对全局变量进行赋值时才需要global声明，对其本身修改（可变数据类型的部分操作）则不需要

        

5. 缺省参数：带默认值的参数一定要位于参数列表最后

6. 不定长参数
    * def func([formal_args,] *args, **kwargs):
    * 加了（*）的变量args会存放所有未命名的变量参数，args为元组，也是缺省参数，默认为空的元组
    * 加了（**）的变量kwargs会存放命名参数，如 key = value，kwargs为字典，也是缺省参数，默认为空的字典

7. <span style="background-color: #ffaaaa">**参数顺序;必传参数，缺省参数，元组参数，字典参数（py3中缺省和元组可以互换）**</span>
8. 拆包
    * 返回多个返回值时，默认为元组
    * 拆包时，
    * 可以对元组，列表，字典（取出的是key）进行拆包。

9. <span style="background-color: #ffaaaa">**递归函数**</span>
    * 在Python中有次数限制，需要停止条件。
    * 默认递归深度接近1000，不同平台结果不同
        * sys.setrecursionlimit（1500） 
            * 设置Python解释器堆栈的最大深度限制。此限制可防止无限递归导致C堆栈溢出并导致Python崩溃。
            * 最大限制取决于平台。当用户需要深度递归的程序和支持更高限制的平台时，需要设置更高的限制。但是应该小心，因为太高的限制可能导致崩溃。
10. **匿名函数**     lambda [arg1 [,arg2,.....argn]]:expression
    * 函数的另一种解释
    * 某些情况下很好用
        * 自定义字典排序
            * 将字典放在列表中
            * 列表对象.sort( key = lambda x：x[ key ] )
11. <span style="background-color: #ffaaaa">**列表推导式**</span>
    * 轻量级循环创建列表，快速创建一个有规律的列表
    * a = [x for x in range(1,101)]
    * b = [a[x:x+3] for x in range(0,len(a),3)]
    * 若 x 是 无用的，可用下划线_代替         [PlaneBullet()  for _ in range(6)]

## **引用**
* Python中值是靠引用传递的。
* Python函数调用时
    * 不可变参数传递是值传递，
    * 可变参数传递是引用传递，而不是值传递。
* 对数据的修改
    * 不可变数据类型（数字、字符串、元组）是重新赋值
        * Python中，数字 256 以内已经预定义。
    * 可变数据类型（列表，字典，集合）的部分操作是修改原来的值，会导致指向该引用的变量全部改变
        * lista + listb       相当于重新赋值
        * lista += listb     修改原来的数据
    

