---
sidebar: auto
---
# 基础 07-文件

* **文件**
    * 基础
        * 文件的作用
            * 就是把一些数据存放起来，可以让程序下一次执行的时侯直接调用，而不必重新制作一份，省时省力。
        * 文件类型：
            * i. 文本数据文件       -> 字符串
            * ii. 二进制数据文件   -> 二进制
            * 类型转换
                * 字符串转换为二进制                       str.encode("utf-8")
                * 二进制转字符串                                a.decode()
        * 在Windows系统中，如果写入数据包含中文，默认格式为 gbk。所以需加编码格式    open('test.txt'，"w", encoding = "utf-8")
    * 操作
        * f. open(文件名，访问模式)   3*4种访问模式
        * 打开的文件记得在不用之后关闭，f.close(), 或者使用 with

| 访问模式 | 说明                                                                                                                                                   |
| -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------ |
| r        | 以只读方式打开文件。文件的指针将会放在文件的开头。这是默认模式，可以省略。                                                                             |
| w        | 打开一个文件只用于写入。如果该文件已存在则将其覆盖。如果该文件不存在，创建新文件。                                                                     |
| a        | 打开一个文件用于追加。如果该文件已存在，文件指针将会放在文件的结尾。也就是说，新的内容将会被写入到已有内容之后。如果该文件不存在，创建新文件进行写入。 |
| rb       | 以二进制格式打开一个文件用于只读                                                                                                                       |
| wb       | 以二进制格式打开一个文件只用于写入                                                                                                                     |
| ab       | 以二进制格式打开一个文件用于追加                                                                                                                       |
| r+       | 打开一个文件用于读写                                                                                                                                   |
| w+       | 打开一个文件用于读写。如果该文件已存在则将其覆盖。如果该文件不存在，创建新文件。                                                                       |
| a+       | 打开一个文件用于读写。如果该文件已存在，文件指针将会放在文件的结尾。文件打开时会是追加模式。如果该文件不存在，创建新文件用于读写。                     |
| rb+      | 二进制格式                                                                                                                                             |
| wb+      | 二进制格式                                                                                                                                             |
| ab+      | 二进制格式                                                                                                                                             |

* **读数据**

    * read( x )      读取x个字符
    * readline()    读一行数据，将指针移至下一行开头
    * readlines()   按照行的方式将文件进行一次性读取，返回一个列表，每一行为一个元素
* 文件备份
    * 关于文件的备份，建议使用  边读边写

                

                

* 文件其他操作（os模块）

| func                   | desc                           |
| ---------------------- | ------------------------------ |
| os.rename("old","new") | 重命名                         |
| os.remove("filename")  | 删除文件                       |
| os.mkdir("filename")   | 创建文件                       |
| os.getcwd()            | 获取当前目录                   |
| os.dirname()           |                                |
| os.chdir("../")        | 改变默认目录                   |
| os.listdir("./")       | 获取目录列表                   |
| os.rmdir("file")       | 删除文件夹（只能删除空文件夹） |
| os.path.exists( )      | 判断是否存在该文件或者文件夹   |

* 如果要删除不为空的文件夹
    * 使用shutil模块   
    * shutil.rmtree("test")  删除文件夹 （不管是否为空）
