# HTTP

## 问题

1. 从 URL 在浏览器被被输入到页面展现的过程中发生了什么？
   1. 输入地址
   2. 域名解析(通过主机名，最终得到该主机名对应的IP地址的过程叫做域名解析), 找到对应IP地址
      1. 本地hosts查找
      2. 请求本地DNS（Domain Name System，域名系统）服务器(电信, 联通)
      3. 请求根服务器, 根服务器给出 域名解析服务器
      4. 请求域名解析服务器
      5. 请求顶级服务器(示例: .com)
   3. 浏览器向web服务器发出HTTP请求
      * 三次握手, 四次挥手
   4. 服务器处理请求
      1. 大一些的网站会使用反向代理服务器, 将请求分配到不同服务器
      2. 正向代理: 解决访问现在, 提高访问速度
      3. 反向代理: 负载均衡, 安全防护, 提高访问速度
   5. 服务器返回HTTP响应
   6. 浏览器显示HTML
   7. 浏览器发送请求获取嵌入HTML的资源

2. 现代浏览器在与服务器建立了一个 TCP 连接后是否会在一个 HTTP 请求完成后断开？什么情况下会断开？
   1. 默认情况下建立 TCP 连接不会断开，只有在请求报头中声明 Connection: close 才会在请求完成后关闭连接。(HTTP/1.1 之后默认开启长连接)

3. 一个 TCP 连接可以对应几个 HTTP 请求？
   * 从上一个问题可知, 如果维持连接的话, 一个TCP连接可以发送多个HTTP请求

4. 一个 TCP 连接中 HTTP请求可以一起发送吗
   1. 在 HTTP/1.1 存在 Pipelining技术可以完成这个多个请求同时发送，但是由于浏览器默认关闭，所以可以认为这是不可行的
      1. HTTP/1.1中, 虽然规定了Pipelining 来试图同时处理多个请求，但是这个功能在浏览器中默认是关闭的
      2. 一些代理服务器不能正确处理
      3. 连接头阻塞, 假设收购请求话费了大量时间, 后面的请求都会阻塞
   2. HTTP2 提供了多路传输的特性, 在一个TCP中可以同时处理多个请求

5. 为什么有的时候刷新页面不需要重新建立 SSL 连接？
   * TCP 连接有的时候会被浏览器和服务端维持一段时间。TCP 不需要重新建立，SSL 自然也会用之前的

6. 浏览器对同一 Host 建立 TCP 连接到数量有没有限制？
   * 有。Chrome 最多允许对同一个 Host 建立六个 TCP 连接，不同的浏览器有一些区别
# HTTP2
## 简介
1. 对1.x的升级, 对其完全兼容
2. 
