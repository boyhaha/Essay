<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>41-celery，RabbitMq | 娃哈哈</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/Essay/assets/css/0.styles.c2c42747.css" as="style"><link rel="preload" href="/Essay/assets/js/app.a80fbb9d.js" as="script"><link rel="preload" href="/Essay/assets/js/2.8038fab4.js" as="script"><link rel="preload" href="/Essay/assets/js/13.3dfee7fc.js" as="script"><link rel="prefetch" href="/Essay/assets/js/10.d8b1a154.js"><link rel="prefetch" href="/Essay/assets/js/100.7db36d3e.js"><link rel="prefetch" href="/Essay/assets/js/101.539e079a.js"><link rel="prefetch" href="/Essay/assets/js/102.60f3f596.js"><link rel="prefetch" href="/Essay/assets/js/103.5cf0b0ef.js"><link rel="prefetch" href="/Essay/assets/js/104.c5acb4f8.js"><link rel="prefetch" href="/Essay/assets/js/105.875d1427.js"><link rel="prefetch" href="/Essay/assets/js/106.cd36f389.js"><link rel="prefetch" href="/Essay/assets/js/107.61b2bcb8.js"><link rel="prefetch" href="/Essay/assets/js/108.c5b3729c.js"><link rel="prefetch" href="/Essay/assets/js/109.186761ec.js"><link rel="prefetch" href="/Essay/assets/js/11.dc0f7e43.js"><link rel="prefetch" href="/Essay/assets/js/110.e1178217.js"><link rel="prefetch" href="/Essay/assets/js/111.d6e3b10d.js"><link rel="prefetch" href="/Essay/assets/js/112.a2273a63.js"><link rel="prefetch" href="/Essay/assets/js/113.4bc2194e.js"><link rel="prefetch" href="/Essay/assets/js/114.83c0da9e.js"><link rel="prefetch" href="/Essay/assets/js/115.377d3b38.js"><link rel="prefetch" href="/Essay/assets/js/116.8b89df9e.js"><link rel="prefetch" href="/Essay/assets/js/117.ba4a745e.js"><link rel="prefetch" href="/Essay/assets/js/118.7befd86b.js"><link rel="prefetch" href="/Essay/assets/js/119.5cb9e736.js"><link rel="prefetch" href="/Essay/assets/js/12.9f54eac8.js"><link rel="prefetch" href="/Essay/assets/js/120.3dceb437.js"><link rel="prefetch" href="/Essay/assets/js/121.ee374884.js"><link rel="prefetch" href="/Essay/assets/js/122.704ef5b3.js"><link rel="prefetch" href="/Essay/assets/js/123.9df7c468.js"><link rel="prefetch" href="/Essay/assets/js/124.0079dc4e.js"><link rel="prefetch" href="/Essay/assets/js/125.1c35db4d.js"><link rel="prefetch" href="/Essay/assets/js/126.ad34db6c.js"><link rel="prefetch" href="/Essay/assets/js/127.182d8330.js"><link rel="prefetch" href="/Essay/assets/js/128.2e28a55e.js"><link rel="prefetch" href="/Essay/assets/js/129.45352a45.js"><link rel="prefetch" href="/Essay/assets/js/130.7067b0a5.js"><link rel="prefetch" href="/Essay/assets/js/131.5a617dd5.js"><link rel="prefetch" href="/Essay/assets/js/132.8b876933.js"><link rel="prefetch" href="/Essay/assets/js/133.eceb37fa.js"><link rel="prefetch" href="/Essay/assets/js/134.b3b3bf32.js"><link rel="prefetch" href="/Essay/assets/js/14.8eb6643f.js"><link rel="prefetch" href="/Essay/assets/js/15.47bf816d.js"><link rel="prefetch" href="/Essay/assets/js/16.8e1e6409.js"><link rel="prefetch" href="/Essay/assets/js/17.351e5221.js"><link rel="prefetch" href="/Essay/assets/js/18.2d741aec.js"><link rel="prefetch" href="/Essay/assets/js/19.50a95ad7.js"><link rel="prefetch" href="/Essay/assets/js/20.20933090.js"><link rel="prefetch" href="/Essay/assets/js/21.753ac72d.js"><link rel="prefetch" href="/Essay/assets/js/22.16d9fab4.js"><link rel="prefetch" href="/Essay/assets/js/23.c059045d.js"><link rel="prefetch" href="/Essay/assets/js/24.1858533d.js"><link rel="prefetch" href="/Essay/assets/js/25.a80a5a19.js"><link rel="prefetch" href="/Essay/assets/js/26.ad8e4d2d.js"><link rel="prefetch" href="/Essay/assets/js/27.f948e35f.js"><link rel="prefetch" href="/Essay/assets/js/28.99e39dd5.js"><link rel="prefetch" href="/Essay/assets/js/29.04ab1fa3.js"><link rel="prefetch" href="/Essay/assets/js/3.efc4b50d.js"><link rel="prefetch" href="/Essay/assets/js/30.320a9a57.js"><link rel="prefetch" href="/Essay/assets/js/31.10d81723.js"><link rel="prefetch" href="/Essay/assets/js/32.139c331b.js"><link rel="prefetch" href="/Essay/assets/js/33.d6cfc0fa.js"><link rel="prefetch" href="/Essay/assets/js/34.13087510.js"><link rel="prefetch" href="/Essay/assets/js/35.21e76c2a.js"><link rel="prefetch" href="/Essay/assets/js/36.ef4c84cd.js"><link rel="prefetch" href="/Essay/assets/js/37.4144758d.js"><link rel="prefetch" href="/Essay/assets/js/38.b3a39d81.js"><link rel="prefetch" href="/Essay/assets/js/39.8d3b3057.js"><link rel="prefetch" href="/Essay/assets/js/4.785ba770.js"><link rel="prefetch" href="/Essay/assets/js/40.cfe3f358.js"><link rel="prefetch" href="/Essay/assets/js/41.ebd80232.js"><link rel="prefetch" href="/Essay/assets/js/42.089f0163.js"><link rel="prefetch" href="/Essay/assets/js/43.bc1193eb.js"><link rel="prefetch" href="/Essay/assets/js/44.4661ca9b.js"><link rel="prefetch" href="/Essay/assets/js/45.54f74b21.js"><link rel="prefetch" href="/Essay/assets/js/46.05520589.js"><link rel="prefetch" href="/Essay/assets/js/47.103c5162.js"><link rel="prefetch" href="/Essay/assets/js/48.2221918f.js"><link rel="prefetch" href="/Essay/assets/js/49.affd2b58.js"><link rel="prefetch" href="/Essay/assets/js/5.3856f33a.js"><link rel="prefetch" href="/Essay/assets/js/50.371ebb22.js"><link rel="prefetch" href="/Essay/assets/js/51.b7424bc7.js"><link rel="prefetch" href="/Essay/assets/js/52.449bd607.js"><link rel="prefetch" href="/Essay/assets/js/53.e1a23788.js"><link rel="prefetch" href="/Essay/assets/js/54.a5c43449.js"><link rel="prefetch" href="/Essay/assets/js/55.bf9125bf.js"><link rel="prefetch" href="/Essay/assets/js/56.97a017ba.js"><link rel="prefetch" href="/Essay/assets/js/57.818b196e.js"><link rel="prefetch" href="/Essay/assets/js/58.d266d811.js"><link rel="prefetch" href="/Essay/assets/js/59.1a5862da.js"><link rel="prefetch" href="/Essay/assets/js/6.95185ac8.js"><link rel="prefetch" href="/Essay/assets/js/60.4dbaccc2.js"><link rel="prefetch" href="/Essay/assets/js/61.66a9ee5f.js"><link rel="prefetch" href="/Essay/assets/js/62.cf66c4a5.js"><link rel="prefetch" href="/Essay/assets/js/63.a66b4e1f.js"><link rel="prefetch" href="/Essay/assets/js/64.f2d9e839.js"><link rel="prefetch" href="/Essay/assets/js/65.2585444b.js"><link rel="prefetch" href="/Essay/assets/js/66.e8caab98.js"><link rel="prefetch" href="/Essay/assets/js/67.4732c60d.js"><link rel="prefetch" href="/Essay/assets/js/68.6901a57e.js"><link rel="prefetch" href="/Essay/assets/js/69.dd2c20f4.js"><link rel="prefetch" href="/Essay/assets/js/7.b1e544fc.js"><link rel="prefetch" href="/Essay/assets/js/70.0efbfb21.js"><link rel="prefetch" href="/Essay/assets/js/71.618e5c90.js"><link rel="prefetch" href="/Essay/assets/js/72.c176c459.js"><link rel="prefetch" href="/Essay/assets/js/73.5a6152a2.js"><link rel="prefetch" href="/Essay/assets/js/74.e2602a36.js"><link rel="prefetch" href="/Essay/assets/js/75.cf320c1c.js"><link rel="prefetch" href="/Essay/assets/js/76.c8567920.js"><link rel="prefetch" href="/Essay/assets/js/77.c78fd3f9.js"><link rel="prefetch" href="/Essay/assets/js/78.0c782841.js"><link rel="prefetch" href="/Essay/assets/js/79.c5de8d9a.js"><link rel="prefetch" href="/Essay/assets/js/8.8f0e916a.js"><link rel="prefetch" href="/Essay/assets/js/80.afd15913.js"><link rel="prefetch" href="/Essay/assets/js/81.3d58f37c.js"><link rel="prefetch" href="/Essay/assets/js/82.680ab1da.js"><link rel="prefetch" href="/Essay/assets/js/83.2df3b43a.js"><link rel="prefetch" href="/Essay/assets/js/84.fcc9d5f3.js"><link rel="prefetch" href="/Essay/assets/js/85.c369ecad.js"><link rel="prefetch" href="/Essay/assets/js/86.ba84f120.js"><link rel="prefetch" href="/Essay/assets/js/87.9eb720ee.js"><link rel="prefetch" href="/Essay/assets/js/88.37251e42.js"><link rel="prefetch" href="/Essay/assets/js/89.61d52175.js"><link rel="prefetch" href="/Essay/assets/js/9.c49b5d08.js"><link rel="prefetch" href="/Essay/assets/js/90.7512f5da.js"><link rel="prefetch" href="/Essay/assets/js/91.34ca5084.js"><link rel="prefetch" href="/Essay/assets/js/92.e9925b38.js"><link rel="prefetch" href="/Essay/assets/js/93.5b7ccfd7.js"><link rel="prefetch" href="/Essay/assets/js/94.2e84d602.js"><link rel="prefetch" href="/Essay/assets/js/95.c54e75c8.js"><link rel="prefetch" href="/Essay/assets/js/96.f8a27d66.js"><link rel="prefetch" href="/Essay/assets/js/97.b4cc005a.js"><link rel="prefetch" href="/Essay/assets/js/98.7c70b73d.js"><link rel="prefetch" href="/Essay/assets/js/99.4e213b11.js">
    <link rel="stylesheet" href="/Essay/assets/css/0.styles.c2c42747.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Essay/" class="home-link router-link-active"><img src="/Essay/1.gif" alt="娃哈哈" class="logo"> <span class="site-name can-hide">娃哈哈</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Essay/resource/" class="nav-link router-link-active">
  Guide
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="github" class="dropdown-title"><span class="title">github</span> <span class="arrow down"></span></button> <button type="button" aria-label="github" class="mobile-dropdown-title"><span class="title">github</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/boyhaha" target="_blank" rel="noopener noreferrer" class="nav-link external">
  娃哈哈
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Essay/resource/" class="nav-link router-link-active">
  Guide
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="github" class="dropdown-title"><span class="title">github</span> <span class="arrow down"></span></button> <button type="button" aria-label="github" class="mobile-dropdown-title"><span class="title">github</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/boyhaha" target="_blank" rel="noopener noreferrer" class="nav-link external">
  娃哈哈
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>数据结构与算法</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>数据结构与算法</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Essay/resource/algorithm/数据结构.html" class="sidebar-link">算法小抄</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Essay/resource/algorithm/数据结构.html#问题" class="sidebar-link">问题</a></li></ul></li><li><a href="/Essay/resource/algorithm/树.html" class="sidebar-link">树</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Essay/resource/algorithm/树.html#树" class="sidebar-link">树</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Essay/resource/algorithm/树.html#树的遍历" class="sidebar-link">树的遍历</a></li></ul></li></ul></li><li><a href="/Essay/resource/algorithm/排序.html" class="sidebar-link">十大排序算法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Essay/resource/algorithm/排序.html#十大排序算法" class="sidebar-link">十大排序算法</a></li><li class="sidebar-sub-header"><a href="/Essay/resource/algorithm/排序.html#基本概念" class="sidebar-link">基本概念</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Essay/resource/algorithm/排序.html#_1-冒泡排序" class="sidebar-link">1. 冒泡排序</a></li><li class="sidebar-sub-header"><a href="/Essay/resource/algorithm/排序.html#_2-快速排序" class="sidebar-link">2. 快速排序</a></li><li class="sidebar-sub-header"><a href="/Essay/resource/algorithm/排序.html#_3-归并排序" class="sidebar-link">3. 归并排序</a></li></ul></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>LeetCode</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>课外延伸</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>book</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>数据库</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>面试必看</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/Essay/resource/language/" class="sidebar-link">编程语言</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Essay/resource/language/#golang" class="sidebar-link">Golang</a></li><li class="sidebar-sub-header"><a href="/Essay/resource/language/#python" class="sidebar-link">Python</a></li></ul></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>网络</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/Essay/resource/others/" class="sidebar-heading clickable"><span>其他</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/Essay/resource/system/" class="sidebar-heading clickable"><span>操作系统</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/Essay/resource/tools/" class="sidebar-heading clickable"><span>软件</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/Essay/resource/travel/#%20%E6%9B%B4%E6%8D%A2%E6%89%8B%E6%9C%BA%E5%8F%B7.html" class="sidebar-link">旅行规划</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_41-celery-rabbitmq"><a href="#_41-celery-rabbitmq" class="header-anchor">#</a> 41-celery，RabbitMq</h1> <h1 id="celery-分布式任务队列"><a href="#celery-分布式任务队列" class="header-anchor">#</a> Celery - 分布式任务队列</h1> <h2 id="问题"><a href="#问题" class="header-anchor">#</a> 问题：</h2> <ol><li>讲下celery的作用及实现原理？
<ul><li>分布式任务队列管理工具，通过它可以轻松的实现任务的异步处理</li> <li>使用场景
<ul><li>异步任务</li> <li>定时任务</li></ul></li></ul></li> <li>为什么使用celery异步任务？（类似于为什么使用消息队列）
<ol><li>异步</li> <li>解耦：解决流程直接的耦合性</li> <li>削峰：对于流量高峰，把请求放到队列里面，然后至于每秒消费多少请求，就看自己的服务器处理能力，不至于服务器崩溃</li></ol></li> <li>RabbitMq重复消费的问题
<ol><li>在redis做一个标记</li></ol></li> <li>RabbitMq消息如何处理</li></ol> <h2 id="知识点"><a href="#知识点" class="header-anchor">#</a> 知识点</h2> <ol><li>简介
<ol><li>一个由 Python 编写的简单、灵活、可靠的用来处理大量信息的分布式系统,</li> <li>专注于实时任务处理，支持任务调度</li> <li>一个分布式队列的管理工具</li> <li>Celery 本身不是任务队列，它是管理分布式任务队列的工具</li> <li>提供了对多种语言的支持</li> <li>celery默认的并发方式是prefork,也就是多进程的方式，这里只是celery对multiprocessing.Pool进行了轻量的改造</li></ol></li> <li>优点
<ul><li>简单：一旦熟悉了celery的工作流程后，配置和使用还是比较简单的</li> <li>高可用：当任务执行失败或执行过程中发生连接中断，celery 会自动尝试重新执行任务</li> <li>快速：一个单进程的celery每分钟可处理上百万个任务</li> <li>灵活： 几乎celery的各个组件都可以被扩展及自定制，
<ul><li>可以自制连接池、 序列化、压缩模式、日志、调度器、消费者、生产者、自动扩展、 中间人传输或更多。</li></ul></li></ul></li> <li>支持
<ol><li>中间人</li></ol> <ul><li>RabbitMQ, Redis,</li></ul> <ol start="2"><li>并发
<ul><li>Eventlet, gevent</li> <li>多线程/单线程</li> <li>prefork（多进程）,</li></ul></li> <li>结果存储
<ul><li>AMQP, Redis</li> <li>memcached, MongoDB， 关系型数据库</li> <li>Apache Cassandra</li></ul></li> <li>序列化
<ul><li>zlib, bzip2 压缩</li> <li>密码学消息签名</li> <li>pickle, json, yaml, msgpack</li></ul></li></ol></li> <li>架构
<ol><li>Celery Beat
<ul><li>是一个任务调度器，它以独立进程的形式存在。Celery beat 进程会读取配置文件的内容，周期性地将执行任务的请求发送给任务队列</li> <li>Celery 系统自带的任务生产者</li></ul></li> <li>Producer
<ul><li>调用了Celery提供的API、函数或者装饰器而产生任务并交给任务队列处理的都是任务生产者</li></ul></li> <li>Broker
<ul><li>消息代理，或者叫作消息中间件，接受任务生产者发送过来的任务消息，存进队列再按序分发给任务消费方（通常是消息队列或者数据库）</li></ul></li> <li>celery worker
<ul><li>执行任务的一方，它负责接收处理任务中间方发来的任务处理请求，完成这些任务，并且返回任务处理的结果。</li> <li>Celery worker 默认对应的就是操作系统中的一个进程，也可以是线程，协程</li></ul></li> <li>结果保存
<ul><li>支持任务处理完后将状态信息和结果的保存，以供查询</li></ul></li></ol></li></ol> <p><img src="/Essay/assets/img/ced5dfd71cdd44991fe56df35a2a8817.ced5dfd7.png" alt="ced5dfd71cdd44991fe56df35a2a8817.png"></p> <ul><li>启动
<ul><li><span style="background-color:#ffaaaa;"><span style="background-color:#ffaaaa;">celery  -A celery_tasks.main  worker  -l info  # 执行celery指令</span></span></li> <li>$ celery -A tasks worker --loglevel=info</li></ul></li></ul> <p>开始编写tasks.py：</p> <div class="language- extra-class"><pre class="language-text"><code>_# tasks.py_import time

from celery import Celery

celery = Celery('tasks', broker='[redis://localhost:6379/0](redis://localhost:6379/0)')

@celery.task

def sendmail(mail):

print('sending mail to %s...' % mail['to'])

time.sleep(2.0)

print('mail sent.')
</code></pre></div><p>然后启动Celery处理任务： $ celery -A tasks worker --loglevel=info
或者</p> <blockquote><p>from tasks import sendmail</p></blockquote> <blockquote><p>sendmail.delay(dict(to='<a href="mailto:celery@python.org">celery@python.org</a>'))</p></blockquote> <ul><li>链式任务
<ul><li>有些任务可能需由几个子任务组成，此时调用各个子任务的方式就变的很重要，尽量不要以同步阻塞的方式调用子任务，而是用异步回调的方式进行链式任务的调用：</li></ul></li> <li>调用任务
<ul><li>delay 只是 apply_async 的快捷方式，二者作用相同，只是 apply_async 可以进行更多的任务属性设置，比如 callbacks/errbacks 正常回调与错误回调、执行超时、重试、重试时间等等，</li></ul></li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">更新时间:</span> <span class="time">8/2/2021, 10:37:16 AM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/Essay/assets/js/app.a80fbb9d.js" defer></script><script src="/Essay/assets/js/2.8038fab4.js" defer></script><script src="/Essay/assets/js/13.3dfee7fc.js" defer></script>
  </body>
</html>
