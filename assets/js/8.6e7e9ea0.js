(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{362:function(v,_,t){v.exports=t.p+"assets/img/rps.cb70bc63.jpg"},363:function(v,_,t){v.exports=t.p+"assets/img/requests.3607b0b7.jpg"},475:function(v,_,t){"use strict";t.r(_);var d=t(44),r=Object(d.a)({},(function(){var v=this,_=v.$createElement,d=v._self._c||_;return d("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[d("h2",{attrs:{id:"不同框架对比"}},[d("a",{staticClass:"header-anchor",attrs:{href:"#不同框架对比"}},[v._v("#")]),v._v(" 不同框架对比")]),v._v(" "),d("table",[d("thead",[d("tr",[d("th",[v._v("web")]),v._v(" "),d("th",[v._v("-w")]),v._v(" "),d("th",[v._v("总请求数")]),v._v(" "),d("th",[v._v("并发数")]),v._v(" "),d("th",[v._v("cpu")]),v._v(" "),d("th",[v._v("rps")]),v._v(" "),d("th",[v._v("Failed")]),v._v(" "),d("th",[v._v("50%")]),v._v(" "),d("th",[v._v("90%")]),v._v(" "),d("th",[v._v("100%")]),v._v(" "),d("th",[v._v("url")])])]),v._v(" "),d("tbody",[d("tr",[d("td",[v._v("Flask(gunicorn)")]),v._v(" "),d("td",[v._v("1")]),v._v(" "),d("td",[v._v("500")]),v._v(" "),d("td",[v._v("10")]),v._v(" "),d("td",[v._v("17")]),v._v(" "),d("td",[v._v("5.22")]),v._v(" "),d("td",[v._v("0")]),v._v(" "),d("td",[v._v("1913")]),v._v(" "),d("td",[v._v("2299")]),v._v(" "),d("td",[v._v("2876")]),v._v(" "),d("td",[v._v("/v1/users/labels")])]),v._v(" "),d("tr",[d("td",[v._v("tornado")]),v._v(" "),d("td",[v._v("1")]),v._v(" "),d("td",[v._v("500")]),v._v(" "),d("td",[v._v("10")]),v._v(" "),d("td",[v._v("22")]),v._v(" "),d("td",[v._v("3.43")]),v._v(" "),d("td",[v._v("0")]),v._v(" "),d("td",[v._v("2859")]),v._v(" "),d("td",[v._v("3201")]),v._v(" "),d("td",[v._v("4430")]),v._v(" "),d("td",[v._v("/v1/users/labels")])]),v._v(" "),d("tr",[d("td",[v._v("Flask(gunicorn)")]),v._v(" "),d("td",[v._v("1")]),v._v(" "),d("td",[v._v("5000")]),v._v(" "),d("td",[v._v("100")]),v._v(" "),d("td",[v._v("18")]),v._v(" "),d("td",[v._v("6.60")]),v._v(" "),d("td",[v._v("0")]),v._v(" "),d("td",[v._v("15049")]),v._v(" "),d("td",[v._v("17715")]),v._v(" "),d("td",[v._v("26450")]),v._v(" "),d("td",[v._v("/v1/users/labels")])]),v._v(" "),d("tr",[d("td",[v._v("tornado")]),v._v(" "),d("td",[v._v("1")]),v._v(" "),d("td",[v._v("5000")]),v._v(" "),d("td",[v._v("100")]),v._v(" "),d("td",[v._v("24")]),v._v(" "),d("td",[v._v("4.17")]),v._v(" "),d("td"),v._v(" "),d("td",[v._v("23814")]),v._v(" "),d("td",[v._v("25818")]),v._v(" "),d("td",[v._v("37544")]),v._v(" "),d("td",[v._v("/v1/users/labels")])]),v._v(" "),d("tr",[d("td",[v._v("Flask(Werkzeug)")]),v._v(" "),d("td",[v._v("1")]),v._v(" "),d("td",[v._v("5000")]),v._v(" "),d("td",[v._v("100")]),v._v(" "),d("td",[v._v("22")]),v._v(" "),d("td",[v._v("318.68")]),v._v(" "),d("td",[v._v("0")]),v._v(" "),d("td",[v._v("319")]),v._v(" "),d("td",[v._v("357")]),v._v(" "),d("td",[v._v("506")]),v._v(" "),d("td",[v._v("/v1/users/tags")])]),v._v(" "),d("tr",[d("td",[v._v("Flask(gunicorn)")]),v._v(" "),d("td",[v._v("1")]),v._v(" "),d("td",[v._v("5000")]),v._v(" "),d("td",[v._v("100")]),v._v(" "),d("td",[v._v("21")]),v._v(" "),d("td",[v._v("595.62")]),v._v(" "),d("td",[v._v("0")]),v._v(" "),d("td",[v._v("156")]),v._v(" "),d("td",[v._v("211")]),v._v(" "),d("td",[v._v("577")]),v._v(" "),d("td",[v._v("/v1/users/tags")])]),v._v(" "),d("tr",[d("td",[v._v("tornado")]),v._v(" "),d("td",[v._v("1")]),v._v(" "),d("td",[v._v("5000")]),v._v(" "),d("td",[v._v("100")]),v._v(" "),d("td",[v._v("21")]),v._v(" "),d("td",[v._v("784.08")]),v._v(" "),d("td",[v._v("0")]),v._v(" "),d("td",[v._v("117")]),v._v(" "),d("td",[v._v("163")]),v._v(" "),d("td",[v._v("246")]),v._v(" "),d("td",[v._v("/v1/users/tags")])]),v._v(" "),d("tr",[d("td",[v._v("Twisted")]),v._v(" "),d("td",[v._v("1")]),v._v(" "),d("td",[v._v("5000")]),v._v(" "),d("td",[v._v("100")]),v._v(" "),d("td",[v._v("13")]),v._v(" "),d("td",[v._v("211.08")]),v._v(" "),d("td",[v._v("0")]),v._v(" "),d("td",[v._v("471")]),v._v(" "),d("td",[v._v("498")]),v._v(" "),d("td",[v._v("687")]),v._v(" "),d("td",[v._v("/v1/users/tags")])]),v._v(" "),d("tr",[d("td",[v._v("Flask(gunicorn)")]),v._v(" "),d("td",[v._v("1")]),v._v(" "),d("td",[v._v("500")]),v._v(" "),d("td",[v._v("10")]),v._v(" "),d("td",[v._v("8.5")]),v._v(" "),d("td",[v._v("337.52")]),v._v(" "),d("td",[v._v("0")]),v._v(" "),d("td",[v._v("22")]),v._v(" "),d("td",[v._v("32")]),v._v(" "),d("td",[v._v("49")]),v._v(" "),d("td",[v._v("/v1/users/tags")])]),v._v(" "),d("tr",[d("td",[v._v("tornado")]),v._v(" "),d("td",[v._v("1")]),v._v(" "),d("td",[v._v("500")]),v._v(" "),d("td",[v._v("10")]),v._v(" "),d("td",[v._v("8.2")]),v._v(" "),d("td",[v._v("381.57")]),v._v(" "),d("td",[v._v("0")]),v._v(" "),d("td",[v._v("25")]),v._v(" "),d("td",[v._v("34")]),v._v(" "),d("td",[v._v("51")]),v._v(" "),d("td",[v._v("/v1/users/tags")])]),v._v(" "),d("tr",[d("td",[v._v("Twisted")]),v._v(" "),d("td",[v._v("1")]),v._v(" "),d("td",[v._v("500")]),v._v(" "),d("td",[v._v("10")]),v._v(" "),d("td",[v._v("11")]),v._v(" "),d("td",[v._v("201.09")]),v._v(" "),d("td",[v._v("0")]),v._v(" "),d("td",[v._v("49")]),v._v(" "),d("td",[v._v("57")]),v._v(" "),d("td",[v._v("76")]),v._v(" "),d("td",[v._v("/v1/users/tags")])]),v._v(" "),d("tr",[d("td"),v._v(" "),d("td"),v._v(" "),d("td"),v._v(" "),d("td"),v._v(" "),d("td"),v._v(" "),d("td"),v._v(" "),d("td"),v._v(" "),d("td"),v._v(" "),d("td"),v._v(" "),d("td"),v._v(" "),d("td")])])]),v._v(" "),d("ul",[d("li",[d("p",[v._v("rps: Requests per second")])]),v._v(" "),d("li",[d("p",[v._v("50%: Percentage of the requests served within a certain time(ms)")])]),v._v(" "),d("li",[d("p",[v._v("url")]),v._v(" "),d("ul",[d("li",[v._v("/v1/users/labels: 接口负责, 查库操作很多(未加缓存)")]),v._v(" "),d("li",[v._v("/v1/users/tags:  接口简单, 只查询一次数据库")])])])]),v._v(" "),d("table",[d("thead",[d("tr",[d("th",[v._v("web")]),v._v(" "),d("th",[v._v("celery -c")]),v._v(" "),d("th",[v._v("总请求数")]),v._v(" "),d("th",[v._v("并发数")]),v._v(" "),d("th",[v._v("used cpu")]),v._v(" "),d("th",[v._v("RPS")]),v._v(" "),d("th",[v._v("Failed")]),v._v(" "),d("th",[v._v("50%")]),v._v(" "),d("th",[v._v("90%")]),v._v(" "),d("th",[v._v("100%")]),v._v(" "),d("th",[v._v("executor(rpc/celery)")])])]),v._v(" "),d("tbody",[d("tr",[d("td",[v._v("tornado")]),v._v(" "),d("td",[v._v("10")]),v._v(" "),d("td",[v._v("5000")]),v._v(" "),d("td",[v._v("10")]),v._v(" "),d("td",[v._v("21")]),v._v(" "),d("td",[v._v("78.97")]),v._v(" "),d("td",[v._v("0")]),v._v(" "),d("td",[v._v("122")]),v._v(" "),d("td",[v._v("155")]),v._v(" "),d("td",[v._v("263")]),v._v(" "),d("td",[v._v("25/15")])]),v._v(" "),d("tr",[d("td",[v._v("tornado")]),v._v(" "),d("td",[v._v("10")]),v._v(" "),d("td",[v._v("5000")]),v._v(" "),d("td",[v._v("50")]),v._v(" "),d("td",[v._v("22")]),v._v(" "),d("td",[v._v("88.34")]),v._v(" "),d("td",[v._v("0")]),v._v(" "),d("td",[v._v("553")]),v._v(" "),d("td",[v._v("637")]),v._v(" "),d("td",[v._v("859")]),v._v(" "),d("td",[v._v("25/15")])]),v._v(" "),d("tr",[d("td",[v._v("tornado")]),v._v(" "),d("td",[v._v("10")]),v._v(" "),d("td",[v._v("5000")]),v._v(" "),d("td",[v._v("100")]),v._v(" "),d("td",[v._v("22")]),v._v(" "),d("td",[v._v("95.38")]),v._v(" "),d("td",[v._v("0")]),v._v(" "),d("td",[v._v("1048")]),v._v(" "),d("td",[v._v("1154")]),v._v(" "),d("td",[v._v("1463")]),v._v(" "),d("td",[v._v("25/15")])]),v._v(" "),d("tr",[d("td",[v._v("tornado")]),v._v(" "),d("td",[v._v("10")]),v._v(" "),d("td",[v._v("5000")]),v._v(" "),d("td",[v._v("200")]),v._v(" "),d("td",[v._v("22")]),v._v(" "),d("td",[v._v("88.72")]),v._v(" "),d("td",[v._v("0")]),v._v(" "),d("td",[v._v("2194")]),v._v(" "),d("td",[v._v("2439")]),v._v(" "),d("td",[v._v("2606")]),v._v(" "),d("td",[v._v("25/15")])]),v._v(" "),d("tr",[d("td",[v._v("tornado")]),v._v(" "),d("td",[v._v("10")]),v._v(" "),d("td",[v._v("5000")]),v._v(" "),d("td",[v._v("10")]),v._v(" "),d("td",[v._v("22")]),v._v(" "),d("td",[v._v("81.86")]),v._v(" "),d("td",[v._v("0")]),v._v(" "),d("td",[v._v("121")]),v._v(" "),d("td",[v._v("146")]),v._v(" "),d("td",[v._v("237")]),v._v(" "),d("td",[v._v("50/30")])]),v._v(" "),d("tr",[d("td",[v._v("tornado")]),v._v(" "),d("td",[v._v("10")]),v._v(" "),d("td",[v._v("5000")]),v._v(" "),d("td",[v._v("50")]),v._v(" "),d("td",[v._v("22")]),v._v(" "),d("td",[v._v("99.89")]),v._v(" "),d("td",[v._v("0")]),v._v(" "),d("td",[v._v("495")]),v._v(" "),d("td",[v._v("578")]),v._v(" "),d("td",[v._v("864")]),v._v(" "),d("td",[v._v("50/30")])]),v._v(" "),d("tr",[d("td",[v._v("tornado")]),v._v(" "),d("td",[v._v("10")]),v._v(" "),d("td",[v._v("5000")]),v._v(" "),d("td",[v._v("100")]),v._v(" "),d("td",[v._v("22")]),v._v(" "),d("td",[v._v("105.44")]),v._v(" "),d("td",[v._v("0")]),v._v(" "),d("td",[v._v("947")]),v._v(" "),d("td",[v._v("1058")]),v._v(" "),d("td",[v._v("1406")]),v._v(" "),d("td",[v._v("50/30")])]),v._v(" "),d("tr",[d("td",[v._v("tornado")]),v._v(" "),d("td",[v._v("10")]),v._v(" "),d("td",[v._v("5000")]),v._v(" "),d("td",[v._v("200")]),v._v(" "),d("td",[v._v("22")]),v._v(" "),d("td",[v._v("95.10")]),v._v(" "),d("td",[v._v("0")]),v._v(" "),d("td",[v._v("2090")]),v._v(" "),d("td",[v._v("2248")]),v._v(" "),d("td",[v._v("2824")]),v._v(" "),d("td",[v._v("50/30")])]),v._v(" "),d("tr",[d("td",[v._v("tornado")]),v._v(" "),d("td",[v._v("10")]),v._v(" "),d("td",[v._v("5000")]),v._v(" "),d("td",[v._v("10")]),v._v(" "),d("td",[v._v("21")]),v._v(" "),d("td",[v._v("83.50")]),v._v(" "),d("td",[v._v("0")]),v._v(" "),d("td",[v._v("118")]),v._v(" "),d("td",[v._v("144")]),v._v(" "),d("td",[v._v("262")]),v._v(" "),d("td",[v._v("100/60")])]),v._v(" "),d("tr",[d("td",[v._v("tornado")]),v._v(" "),d("td",[v._v("10")]),v._v(" "),d("td",[v._v("5000")]),v._v(" "),d("td",[v._v("50")]),v._v(" "),d("td",[v._v("22")]),v._v(" "),d("td",[v._v("97.85")]),v._v(" "),d("td",[v._v("0")]),v._v(" "),d("td",[v._v("504")]),v._v(" "),d("td",[v._v("607")]),v._v(" "),d("td",[v._v("812")]),v._v(" "),d("td",[v._v("100/60")])]),v._v(" "),d("tr",[d("td",[v._v("tornado")]),v._v(" "),d("td",[v._v("10")]),v._v(" "),d("td",[v._v("5000")]),v._v(" "),d("td",[v._v("100")]),v._v(" "),d("td",[v._v("21")]),v._v(" "),d("td",[v._v("103.29")]),v._v(" "),d("td",[v._v("0")]),v._v(" "),d("td",[v._v("936")]),v._v(" "),d("td",[v._v("1070")]),v._v(" "),d("td",[v._v("1302")]),v._v(" "),d("td",[v._v("100/60")])]),v._v(" "),d("tr",[d("td",[v._v("tornado")]),v._v(" "),d("td",[v._v("10")]),v._v(" "),d("td",[v._v("5000")]),v._v(" "),d("td",[v._v("200")]),v._v(" "),d("td",[v._v("22")]),v._v(" "),d("td",[v._v("98.46")]),v._v(" "),d("td",[v._v("0")]),v._v(" "),d("td",[v._v("2037")]),v._v(" "),d("td",[v._v("2144")]),v._v(" "),d("td",[v._v("2465")]),v._v(" "),d("td",[v._v("100/60")])]),v._v(" "),d("tr",[d("td",[v._v("tornado")]),v._v(" "),d("td",[v._v("10")]),v._v(" "),d("td",[v._v("5000")]),v._v(" "),d("td",[v._v("10")]),v._v(" "),d("td",[v._v("21")]),v._v(" "),d("td",[v._v("81.21")]),v._v(" "),d("td",[v._v("0")]),v._v(" "),d("td",[v._v("121")]),v._v(" "),d("td",[v._v("147")]),v._v(" "),d("td",[v._v("263")]),v._v(" "),d("td",[v._v("150/90")])]),v._v(" "),d("tr",[d("td",[v._v("tornado")]),v._v(" "),d("td",[v._v("10")]),v._v(" "),d("td",[v._v("5000")]),v._v(" "),d("td",[v._v("50")]),v._v(" "),d("td",[v._v("22")]),v._v(" "),d("td",[v._v("96.41")]),v._v(" "),d("td",[v._v("0")]),v._v(" "),d("td",[v._v("491")]),v._v(" "),d("td",[v._v("601")]),v._v(" "),d("td",[v._v("2551")]),v._v(" "),d("td",[v._v("150/90")])]),v._v(" "),d("tr",[d("td",[v._v("tornado")]),v._v(" "),d("td",[v._v("10")]),v._v(" "),d("td",[v._v("5000")]),v._v(" "),d("td",[v._v("100")]),v._v(" "),d("td",[v._v("22")]),v._v(" "),d("td",[v._v("98.52")]),v._v(" "),d("td",[v._v("0")]),v._v(" "),d("td",[v._v("991")]),v._v(" "),d("td",[v._v("1140")]),v._v(" "),d("td",[v._v("1441")]),v._v(" "),d("td",[v._v("150/90")])]),v._v(" "),d("tr",[d("td",[v._v("tornado")]),v._v(" "),d("td",[v._v("10")]),v._v(" "),d("td",[v._v("5000")]),v._v(" "),d("td",[v._v("200")]),v._v(" "),d("td",[v._v("22")]),v._v(" "),d("td",[v._v("95.07")]),v._v(" "),d("td",[v._v("0")]),v._v(" "),d("td",[v._v("2114")]),v._v(" "),d("td",[v._v("2215")]),v._v(" "),d("td",[v._v("2838")]),v._v(" "),d("td",[v._v("150/90")])]),v._v(" "),d("tr",[d("td",[v._v("tornado")]),v._v(" "),d("td",[v._v("10")]),v._v(" "),d("td",[v._v("5000")]),v._v(" "),d("td",[v._v("10")]),v._v(" "),d("td",[v._v("21")]),v._v(" "),d("td",[v._v("80.74")]),v._v(" "),d("td",[v._v("0")]),v._v(" "),d("td",[v._v("122")]),v._v(" "),d("td",[v._v("147")]),v._v(" "),d("td",[v._v("227")]),v._v(" "),d("td",[v._v("200/120")])]),v._v(" "),d("tr",[d("td",[v._v("tornado")]),v._v(" "),d("td",[v._v("10")]),v._v(" "),d("td",[v._v("5000")]),v._v(" "),d("td",[v._v("50")]),v._v(" "),d("td",[v._v("21")]),v._v(" "),d("td",[v._v("93.54")]),v._v(" "),d("td",[v._v("0")]),v._v(" "),d("td",[v._v("521")]),v._v(" "),d("td",[v._v("624")]),v._v(" "),d("td",[v._v("1026")]),v._v(" "),d("td",[v._v("200/120")])]),v._v(" "),d("tr",[d("td",[v._v("tornado")]),v._v(" "),d("td",[v._v("10")]),v._v(" "),d("td",[v._v("5000")]),v._v(" "),d("td",[v._v("100")]),v._v(" "),d("td",[v._v("22")]),v._v(" "),d("td",[v._v("95.90")]),v._v(" "),d("td",[v._v("0")]),v._v(" "),d("td",[v._v("1015")]),v._v(" "),d("td",[v._v("1150")]),v._v(" "),d("td",[v._v("2273")]),v._v(" "),d("td",[v._v("200/120")])]),v._v(" "),d("tr",[d("td",[v._v("tornado")]),v._v(" "),d("td",[v._v("10")]),v._v(" "),d("td",[v._v("5000")]),v._v(" "),d("td",[v._v("200")]),v._v(" "),d("td",[v._v("22")]),v._v(" "),d("td",[v._v("94.01")]),v._v(" "),d("td",[v._v("0")]),v._v(" "),d("td",[v._v("2125")]),v._v(" "),d("td",[v._v("2237")]),v._v(" "),d("td",[v._v("2504")]),v._v(" "),d("td",[v._v("200/120")])]),v._v(" "),d("tr",[d("td",[v._v("tornado")]),v._v(" "),d("td",[v._v("100")]),v._v(" "),d("td",[v._v("5000")]),v._v(" "),d("td",[v._v("10")]),v._v(" "),d("td",[v._v("21")]),v._v(" "),d("td",[v._v("83.78")]),v._v(" "),d("td",[v._v("0")]),v._v(" "),d("td",[v._v("119")]),v._v(" "),d("td",[v._v("143")]),v._v(" "),d("td",[v._v("250")]),v._v(" "),d("td",[v._v("50/30")])]),v._v(" "),d("tr",[d("td",[v._v("tornado")]),v._v(" "),d("td",[v._v("100")]),v._v(" "),d("td",[v._v("5000")]),v._v(" "),d("td",[v._v("50")]),v._v(" "),d("td",[v._v("22")]),v._v(" "),d("td",[v._v("101.75")]),v._v(" "),d("td",[v._v("0")]),v._v(" "),d("td",[v._v("484")]),v._v(" "),d("td",[v._v("574")]),v._v(" "),d("td",[v._v("759")]),v._v(" "),d("td",[v._v("50/30")])]),v._v(" "),d("tr",[d("td",[v._v("tornado")]),v._v(" "),d("td",[v._v("100")]),v._v(" "),d("td",[v._v("5000")]),v._v(" "),d("td",[v._v("100")]),v._v(" "),d("td",[v._v("22")]),v._v(" "),d("td",[v._v("103.58")]),v._v(" "),d("td",[v._v("0")]),v._v(" "),d("td",[v._v("951")]),v._v(" "),d("td",[v._v("1105")]),v._v(" "),d("td",[v._v("1365")]),v._v(" "),d("td",[v._v("50/30")])]),v._v(" "),d("tr",[d("td",[v._v("tornado")]),v._v(" "),d("td",[v._v("100")]),v._v(" "),d("td",[v._v("5000")]),v._v(" "),d("td",[v._v("200")]),v._v(" "),d("td",[v._v("21")]),v._v(" "),d("td",[v._v("92.25")]),v._v(" "),d("td",[v._v("0")]),v._v(" "),d("td",[v._v("2165")]),v._v(" "),d("td",[v._v("2304")]),v._v(" "),d("td",[v._v("2950")]),v._v(" "),d("td",[v._v("50/30")])])])]),v._v(" "),d("ul",[d("li",[v._v("rps: Requests per second")]),v._v(" "),d("li",[v._v("50%: Percentage of the requests served within a certain time(ms)")]),v._v(" "),d("li",[v._v("本次请求操作:\n"),d("ul",[d("li",[v._v("redis(第一次查询MongoDB)")]),v._v(" "),d("li",[v._v("postgres")]),v._v(" "),d("li",[v._v("rpc")]),v._v(" "),d("li",[v._v("client")])])]),v._v(" "),d("li",[v._v("executor(rpc/celery)\n"),d("ul",[d("li",[v._v("executor = ThreadPoolExecutor(max_workers=50)")]),v._v(" "),d("li",[v._v("线程池大小")])])])]),v._v(" "),d("h3",{attrs:{id:"曲线图"}},[d("a",{staticClass:"header-anchor",attrs:{href:"#曲线图"}},[v._v("#")]),v._v(" 曲线图")]),v._v(" "),d("blockquote",[d("p",[d("strong",[v._v("1. rps 曲线图")]),v._v(" "),d("img",{attrs:{src:t(362),alt:"2"}}),v._v(" "),d("strong",[v._v("2. 90 % requests 曲线图")]),v._v(" "),d("img",{attrs:{src:t(363),alt:"2"}})])])])}),[],!1,null,null,null);_.default=r.exports}}]);